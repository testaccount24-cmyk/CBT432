//*
//* MOVE A PRIMARY RACF DATABASE FROM DASD SYS001 TO DASD SYS004
//* THE DEFAULT RVARY PASSWORD IS "YES".
//*
//* RACF PRIMARY DB : SYS1.RACF
//* RACF BACKUP  DB : SYS1.RACF.BACKUP
//*
//DELETE EXEC PGM=IEFBR14
//BACK  DD DISP=(MOD,DELETE),DSN=SYS1.RACF,VOL=SER=SYS004,
//  UNIT=SYSALLDA,
//  SPACE=(CYL,35,,CONTIG),
//  DCB=(RECFM=F,LRECL=4096,BLKSIZE=4096,DSORG=PSU)
//*
//ALLOC EXEC PGM=IEFBR14
//BACK  DD DISP=(NEW,KEEP),DSN=SYS1.RACF,VOL=SER=SYS004,
//  UNIT=SYSALLDA,
//  SPACE=(CYL,35,,CONTIG),
//  DCB=(RECFM=F,LRECL=4096,BLKSIZE=4096,DSORG=PSU)
//*
//*
//* SWITCH
//* BACKUP BECOMES PRIMARY
//*
//SWITCH1   EXEC  PGM=IKJEFT01
//SYSPRINT  DD   SYSOUT=*
//SYSOUT    DD   SYSOUT=*
//SYSTSPRT  DD   SYSOUT=*
//SYSTSIN   DD   *
  RVARY SWITCH
//*
//* COPY PRIMARY DB ONTO NEW PRIMARY DB
//*
//IRRUT400  EXEC PGM=IRRUT400,PARM='NOLOCKINPUT,FREESPACE(20)'
//SYSPRINT  DD  SYSOUT=*
//INDD1     DD  DISP=SHR,DSN=SYS1.RACF,VOL=SER=SYS001,     INPUT
//          UNIT=SYSALLDA
//OUTDD1    DD  DISP=OLD,DSN=SYS1.RACF,VOL=SER=SYS004,     OUTPUT
//          UNIT=SYSALLDA
//*
//* RACF DB VERIFICATION UTILITY PROGRAM
//*
//IRRUT200 EXEC PGM=IRRUT200
//SYSRACF   DD  DISP=OLD,DSN=SYS1.RACF,VOL=SER=SYS004,
//          UNIT=SYSALLDA
//SYSPRINT DD   SYSOUT=*
//SYSUT2   DD   SYSOUT=*
//SYSUT1   DD   UNIT=VIO,SPACE=(CYL,(5,5))
//SYSIN    DD   *
  INDEX
  MAP
  END
//*---------------------------------------------------------------------
//IDCAMS    EXEC PGM=IDCAMS       RECATALOG PRIMARY RACF DB
//*---------------------------------------------------------------------
//SYSPRINT  DD SYSOUT=*
//SYSIN     DD *
   DEL  SYS1.RACF  NSCR
   DEF  NVSAM(NAME(SYS1.RACF) DEVT(3390)  VOLUME(SYS004))
//*
//* SWITCH TO GO BACK TO PRIMARY
//*
//SWITCH2   EXEC  PGM=IKJEFT01
//SYSPRINT  DD   SYSOUT=*
//SYSOUT    DD   SYSOUT=*
//SYSTSPRT  DD   SYSOUT=*
//SYSTSIN   DD   *
  RVARY ACTIVE DATASET(SYS1.RACF)
  RVARY SWITCH
  RVARY ACTIVE DATASET(SYS1.RACF.BACKUP)
